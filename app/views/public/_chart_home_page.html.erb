<hr />
<h3>Epoch <%= @chart_data.payload.first['epoch'] %> Stats</h3>
<canvas id="chart_home_page"></canvas>

<script type="text/javascript">
  var ctx = document.getElementById('chart_home_page').getContext('2d');
  var chart = new Chart(ctx, {
    // The type of chart we want to create
    type: 'line',

    // The data for our dataset
    data: {
        // x-axis labels
        labels: <%= @chart_data.payload.reverse.map { |p| p['end_slot'] }%>,
        // An Array of JSON hashes for each dataset to plot. The y-axis is
        // dynamicly calculated. Look for othe options to control the y-axis if
        // desired.
        datasets: [{
            label: 'Skipped Slot %',
            fill: false,
            backgroundColor: 'rgb(255, 99, 132)',
            borderColor: 'rgb(255, 99, 132)',
            data: <%= @chart_data.payload.reverse.map { |p| p['total_skipped_percent'] * 100.0  }%>
        }]
    },

    // Configuration options go here
    options: {

    }
  });
</script>
<hr />
