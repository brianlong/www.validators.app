<h3>Recent Block Production</h3>
<table class='table table-striped table-borderless'>
  <thead class="thead-dark">
    <tr>
      <th class='text-right'>Epoch</th>
      <th class='text-right'>Leader Slots<br />&nbsp;<br />Total Slots</th>
      <th class='text-right'>Blocks Produced<br />&nbsp;<br />Total Blocks</th>
      <th class='text-right'>Skipped Slots<br />Skipped After<br />Total Skipped</th>
      <th class='text-right'>Skipped Slot &percnt;<br />Skipped After &percnt;<br />Total &percnt;</th>
      <th>Timestamp</th>
    </tr>
  </thead>
  <tbody>
    <% @validator.validator_block_histories.order('id desc').limit(60).each do |history| %>
    <% block_stats = ValidatorBlockHistoryStat.where(batch_uuid: history.batch_uuid)
                                              .first %>
    <tr>
      <td class='text-right'>
        <%= number_with_delimiter history.epoch %>
      </td>
      <td class='text-right'>
        <%= number_with_delimiter history.leader_slots %><br />
        &nbsp;<br />
        <%= number_with_delimiter block_stats.total_slots \
              unless block_stats.nil? %>
      </td>
      <td class='text-right'>
        <%= number_with_delimiter history.blocks_produced %><br />
        &nbsp;<br />
        <%= number_with_delimiter block_stats.total_blocks_produced \
              unless block_stats.nil? %>
      </td>
      <td class='text-right'>
        <%= number_with_delimiter history.skipped_slots %><br />
        <%= number_with_delimiter history.skipped_slots_after %><br />
        <%= number_with_delimiter block_stats.total_slots_skipped \
             unless block_stats.nil? %>
      </td>
      <td class='text-right'>
        <%= number_to_percentage (history.skipped_slot_percent.to_f*100.0) %><br />
        <%= number_to_percentage (history.skipped_slots_after_percent.to_f*100.0) %><br />
        <%= number_to_percentage (
              block_stats.total_slots_skipped/block_stats.total_slots.to_f
              )*100.0 unless block_stats.nil? %>
      </td>
      <td>
        <%= history.created_at %>
      </td>
    </tr>
    <% end %>
  </tbody>
</table>
