<div id="notice"><%= notice %></div>

<h3><%= params[:network].capitalize %> Validator Details</h3>
<div class="row">
  <div class="col-sm-6">
    <table class='table table-striped'>
      <tbody>
        <tr>
          <td><strong>Identity Account:</strong></td>
          <td><%= shorten_key @validator.account %></td>
        </tr>
        <tr>
          <td><strong>Software Version:</strong></td>
          <td>
            <%=
              @vote_account_history.try(:software_version)
            %>
          </td>
        </tr>
        <tr>
          <td><strong>IP Address:</strong></td>
          <td><%= @validator.validator_ips.last.address %></td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="col-sm-6">
    <table class='table table-striped'>
      <tbody>
        <tr>
          <td><strong>Vote Account:</strong></td>
          <td>
            <%=
              link_to \
              shorten_key(@validator.vote_accounts.last.account),
              vote_account_url(
                 network: params[:network],
                 account: @validator.vote_accounts.last.account
              ) %>
          </td>
        </tr>
        <tr>
          <td><strong>Activated State:</strong></td>
          <td>
            <%= number_with_delimiter(
                  (@vote_account_history.activated_stake * 0.000000001).round
                ) rescue 'N/A' %> SOL
          </td>
        </tr>
        <tr>
          <td><strong>Commission:</strong></td>
          <td>
            <%= @vote_account_history.commission rescue 'N/A' %> &percnt;
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>


<div class='row'>
  <div class="col-sm-12">
    <%= link_to 'Back to List of Validators', validators_path %>
  </div>
</div>

<div class="row">
  <div class="col-sm-12">
    <%= render partial: 'block_history_chart' %>
  </div>

</div>

<div class='row'>
  <div class="col-sm-12">
    <%= link_to 'Back to List of Validators', validators_path %>
  </div>
</div>

<div class="row validator-block-history-table">
  <div class="col-sm-12">
    <%= render partial: 'ping_times_table' %>
  </div>
</div>

<div class='row'>
  <div class="col-sm-12">
    <%= link_to 'Back to List of Validators', validators_path %>
  </div>
</div>
<div class="row validator-block-history-table">
  <div class="col-sm-12">
    <%= render partial: 'block_history_table' %>
  </div>
</div>

<div class='row'>
  <div class="col-sm-12">
    <%= link_to 'Back to List of Validators', validators_path %>
  </div>
</div>
